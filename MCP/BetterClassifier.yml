app:
  description: å¼•å…¥ç½®ä¿¡åº¦æ‰“åˆ†
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: workflow
  name: BetterClassifier
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/deepseek:0.0.9@8cc65e3d2ce11b03d377ee008dc699c7016601c2646a09c983fcf7c1fd7827ee
    version: null
kind: app
version: 0.5.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: llm
      id: 1770615351502-source-1770615609938-target
      source: '1770615351502'
      sourceHandle: source
      target: '1770615609938'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: end
      id: 1770615609938-source-1770617809523-target
      source: '1770615609938'
      sourceHandle: source
      target: '1770617809523'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        selected: true
        title: ç”¨æˆ·è¾“å…¥
        type: start
        variables:
        - default: "<system_prompt>\n  <title>åˆ†ç±»åŠ©æ‰‹ç³»ç»ŸæŒ‡ä»¤</title>\n  <content>\n    <![CDATA[\n\
            ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ–‡æœ¬åˆ†ç±»åŠ©æ‰‹ã€‚è¯·åŸºäºä»¥ä¸‹åˆ†ç±»æ ‡å‡†ã€ä¼˜å…ˆçº§æŒ‡å—å’Œä¸Šä¸‹æ–‡ï¼Œå¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œå‡†ç¡®åˆ†ç±»ã€‚\n\næ ¸å¿ƒä»»åŠ¡ï¼š\n1. åˆ†æç”¨æˆ·è¾“å…¥ï¼ŒåŒ¹é…æœ€åˆé€‚çš„åˆ†ç±»\n\
            2. è®¡ç®—åˆ†ç±»ç½®ä¿¡åº¦å¹¶è¯´æ˜ç†ç”±\n3. å¤„ç†è¾¹ç•Œæƒ…å†µå’Œæ¨¡ç³Šè¾“å…¥\n4. éµå¾ªå®‰å…¨ä¼¦ç†è§„èŒƒ\n\nè¾“å‡ºè¦æ±‚ï¼š\n- ä¸¥æ ¼ä½¿ç”¨æŒ‡å®šçš„JSONæ ¼å¼\n\
            - åŒ…å«æ‰€æœ‰å¿…å¡«å­—æ®µ\n- å¦‚ä¸ç¬¦åˆä»»ä½•ç±»åˆ«ï¼Œè¿”å›\"uncategorized\"\n- ä¿æŒå®¢è§‚ä¸­ç«‹ï¼Œé¿å…åè§\n    ]]>\n \
            \ </content>\n</system_prompt>"
          hint: ''
          label: ç³»ç»Ÿæç¤ºè¯
          max_length: 99999
          options: []
          placeholder: ''
          required: true
          type: paragraph
          variable: system_prompt
        - default: "<classes>\n  <class id=\"positive\">\n    <name>ç§¯æ/æ­£é¢</name>\n\
            \    <description>è¡¨è¾¾ç§¯ææƒ…ç»ªã€è‚¯å®šã€æ”¯æŒã€æ»¡æ„ç­‰æ­£é¢æ€åº¦</description>\n    <keywords>\n\
            \      <keyword>å¥½</keyword>\n      <keyword>ä¼˜ç§€</keyword>\n      <keyword>æ¨è</keyword>\n\
            \      <keyword>æ»¡æ„</keyword>\n      <keyword>æ„Ÿè°¢</keyword>\n    </keywords>\n\
            \    <examples>\n      <example>è¿™ä¸ªäº§å“éå¸¸å¥½ç”¨ï¼</example>\n      <example>æœåŠ¡å¾ˆæ»¡æ„ï¼Œä¼šå†æ¬¡è´­ä¹°</example>\n\
            \    </examples>\n  </class>\n  \n  <class id=\"neutral\">\n    <name>ä¸­æ€§/å®¢è§‚</name>\n\
            \    <description>å®¢è§‚é™ˆè¿°äº‹å®ï¼Œæ— æ˜ç¡®æƒ…æ„Ÿå€¾å‘ï¼Œè¯¢é—®ä¿¡æ¯</description>\n    <keywords>\n\
            \      <keyword>å¦‚ä½•</keyword>\n      <keyword>ä»€ä¹ˆ</keyword>\n      <keyword>è¯·é—®</keyword>\n\
            \      <keyword>ä¸€èˆ¬</keyword>\n    </keywords>\n    <examples>\n      <example>è¿™ä¸ªäº§å“çš„è§„æ ¼æ˜¯ä»€ä¹ˆï¼Ÿ</example>\n\
            \      <example>è¯·é—®ä½¿ç”¨æ–¹æ³•</example>\n    </examples>\n  </class>\n  \n  <class\
            \ id=\"negative\">\n    <name>æ¶ˆæ/è´Ÿé¢</name>\n    <description>è¡¨è¾¾æ¶ˆææƒ…ç»ªã€æ‰¹è¯„ã€åå¯¹ã€ä¸æ»¡ç­‰è´Ÿé¢æ€åº¦</description>\n\
            \    <keywords>\n      <keyword>å·®</keyword>\n      <keyword>ä¸å¥½</keyword>\n\
            \      <keyword>é—®é¢˜</keyword>\n      <keyword>æŠ•è¯‰</keyword>\n      <keyword>å¤±æœ›</keyword>\n\
            \    </keywords>\n    <examples>\n      <example>è´¨é‡å¾ˆå·®ï¼Œä¸æ¨è</example>\n\
            \      <example>å”®åæœåŠ¡è®©äººå¤±æœ›</example>\n    </examples>\n  </class>\n  \n\
            \  <special_class id=\"uncategorized\">\n    <name>æœªåˆ†ç±»</name>\n    <description>è¾“å…¥æ¨¡ç³Šã€ä¿¡æ¯ä¸è¶³æˆ–ä¸ç¬¦åˆä»»ä½•ç°æœ‰ç±»åˆ«</description>\n\
            \    <trigger_condition>\n      <condition>ç½®ä¿¡åº¦ä½äº0.3</condition>\n    \
            \  <condition>è¾“å…¥ä¸å®Œæ•´æˆ–æ— æ³•ç†è§£</condition>\n      <condition>åŒæ—¶ç¬¦åˆå¤šä¸ªç±»åˆ«ä¸”æ— æ³•åŒºåˆ†</condition>\n\
            \    </trigger_condition>\n  </special_class>\n</classes>"
          hint: ''
          label: ç±»å‹
          max_length: 99999
          options: []
          placeholder: ''
          required: true
          type: paragraph
          variable: classes
        - default: "<confidence_criterion>\n  <levels>\n    <level name=\"é«˜ç½®ä¿¡åº¦\" min=\"\
            0.8\" max=\"1.0\">\n      <description>è¾“å…¥æ˜ç¡®ç¬¦åˆç±»åˆ«ç‰¹å¾ï¼Œæ— æ­§ä¹‰</description>\n\
            \      <indicators>\n        <indicator>åŒ…å«æ˜ç¡®ç±»åˆ«å…³é”®è¯</indicator>\n      \
            \  <indicator>è¯­ä¹‰æ¸…æ™°æ— æ­§ä¹‰</indicator>\n        <indicator>ä¸ç¤ºä¾‹é«˜åº¦åŒ¹é…</indicator>\n\
            \      </indicators>\n    </level>\n    \n    <level name=\"ä¸­ç½®ä¿¡åº¦\" min=\"\
            0.5\" max=\"0.79\">\n      <description>è¾“å…¥åŸºæœ¬ç¬¦åˆä½†æœ‰å°‘é‡æ¨¡ç³Š</description>\n \
            \     <indicators>\n        <indicator>éƒ¨åˆ†åŒ¹é…å…³é”®è¯</indicator>\n        <indicator>è¯­ä¹‰æœ‰è½»å¾®æ­§ä¹‰</indicator>\n\
            \        <indicator>éœ€å°‘é‡æ¨æ–­</indicator>\n      </indicators>\n    </level>\n\
            \    \n    <level name=\"ä½ç½®ä¿¡åº¦\" min=\"0.0\" max=\"0.49\">\n      <description>è¾“å…¥æ¨¡ç³Šæˆ–å¯èƒ½å±äºå¤šä¸ªç±»åˆ«</description>\n\
            \      <indicators>\n        <indicator>å…³é”®è¯ç¼ºå¤±æˆ–å†²çª</indicator>\n       \
            \ <indicator>è¯­ä¹‰æ¨¡ç³Šä¸æ¸…æ™°</indicator>\n        <indicator>éœ€è¦å¤§é‡æ¨æ–­</indicator>\n\
            \      </indicators>\n    </level>\n  </levels>\n  \n  <calculation_method>\n\
            \    <factor weight=\"0.4\">å…³é”®è¯åŒ¹é…åº¦</factor>\n    <factor weight=\"0.3\"\
            >è¯­ä¹‰ä¸€è‡´æ€§</factor>\n    <factor weight=\"0.2\">ä¸Šä¸‹æ–‡ç›¸å…³æ€§</factor>\n    <factor\
            \ weight=\"0.1\">æ¨¡å¼åŒ¹é…åº¦</factor>\n  </calculation_method>\n</confidence_criterion>"
          hint: ''
          label: ç½®ä¿¡åº¦æ ‡å‡†
          max_length: 99999
          options: []
          placeholder: ''
          required: true
          type: paragraph
          variable: confidence_criterion
        - default: "<guidelines>\n  <priority_rule order=\"1\">\n    <name>å­—é¢ä¼˜å…ˆåŸåˆ™</name>\n\
            \    <description>åŸºäºæ–‡æœ¬å­—é¢æ„æ€å’Œæ˜ç¡®æ„å›¾</description>\n    <implementation>ä¼˜å…ˆè€ƒè™‘ç”¨æˆ·æ˜ç¡®è¡¨è¾¾çš„å†…å®¹è€Œéæ¨æ–­</implementation>\n\
            \  </priority_rule>\n  \n  <priority_rule order=\"2\">\n    <name>ä¸Šä¸‹æ–‡ä¸€è‡´æ€§</name>\n\
            \    <description>è€ƒè™‘å¯¹è¯å†å²å’ŒèƒŒæ™¯</description>\n    <implementation>ç»“åˆcontextå­—æ®µä¿¡æ¯åˆ¤æ–­æ„å›¾</implementation>\n\
            \  </priority_rule>\n  \n  <priority_rule order=\"3\">\n    <name>éšå«æ„å›¾æ¨æ–­</name>\n\
            \    <description>æ¨æ–­ç”¨æˆ·çš„æ·±å±‚éœ€æ±‚</description>\n    <implementation>åŸºäºè¡Œä¸šçŸ¥è¯†å’Œå¸¸è§æ¨¡å¼æ¨æ–­</implementation>\n\
            \  </priority_rule>\n  \n  <priority_rule order=\"4\">\n    <name>ä¿å®ˆåˆ†ç±»åŸåˆ™</name>\n\
            \    <description>ä¸ç¡®å®šæ—¶é€‰æ‹©æ›´ä¿å®ˆçš„åˆ†ç±»</description>\n    <implementation>æ¨¡ç³Šæ—¶é€‰æ‹©æ›´å®½æ³›æˆ–ä¸­æ€§åˆ†ç±»</implementation>\n\
            \  </priority_rule>\n  \n  <conflict_resolution>\n    <rule>å½“ç¬¦åˆå¤šä¸ªç±»åˆ«æ—¶ï¼Œé€‰æ‹©æ›´å…·ä½“è€Œéæ›´å®½æ³›çš„ç±»åˆ«</rule>\n\
            \    <rule>ç”¨æˆ·æ˜ç¡®è¡¨è¾¾ä¼˜å…ˆäºæ¨æ–­</rule>\n    <rule>è¿‘æœŸä¿¡æ¯ä¼˜å…ˆäºå†å²ä¿¡æ¯</rule>\n    <rule>ä¸»è¦æ„å›¾ä¼˜å…ˆäºæ¬¡è¦æ„å›¾</rule>\n\
            \  </conflict_resolution>\n</guidelines>"
          hint: ''
          label: åˆ¤æ–­ä¼˜å…ˆçº§
          max_length: 99999
          options: []
          placeholder: ''
          required: false
          type: paragraph
          variable: guidelines
        - default: "<examples>\n    <sample>\n      <input>è¿™ä¸ªæ‰‹æœºæ‹ç…§æ•ˆæœå¤ªæ£’äº†ï¼Œå¤œæ™¯æ¨¡å¼ç‰¹åˆ«å‡ºè‰²ï¼</input>\n\
            \      <output>\n        <![CDATA[\n{\n\"category\": \"positive\",\n\"\
            confidence\": 0.95,\n\"reason\": \"åŒ…å«å¼ºçƒˆæ­£é¢è¯æ±‡'å¤ªæ£’äº†'ï¼Œæ˜ç¡®è¡¨è¾¾å¯¹äº§å“åŠŸèƒ½çš„èµèµ\",\n\"alternative_categories\"\
            : [],\n\"needs_human_review\": false,\n\"processing_notes\": \"å…¸å‹æ­£é¢è¯„ä»·\"\
            \n}\n        ]]>\n      </output>\n    </sample>\n</examples>"
          hint: ''
          label: ç¤ºä¾‹æ ·æœ¬
          max_length: 99999
          options: []
          placeholder: ''
          required: false
          type: paragraph
          variable: examples
        - default: "<!-- 5. ä¸Šä¸‹æ–‡é…ç½®ï¼Œæˆ–ç›´æ¥æ’å…¥å˜é‡åœ¨contexté‡Œé¢æ‹¼æ¥json -->\n  <application_scenario>å®¢æˆ·åé¦ˆåˆ†ç±»</application_scenario>\n\
            \  <domain>ç”µå•†äº§å“è¯„ä»·</domain>\n  <language_specifics>\n    <primary_language>ç®€ä½“ä¸­æ–‡</primary_language>\n\
            \    <dialect>æ ‡å‡†æ™®é€šè¯</dialect>\n    <formality_level>å£è¯­åŒ–ä¸æ­£å¼ç”¨è¯­æ··åˆ</formality_level>\n\
            \  </language_specifics>\n  <additional_context>\n    <note>ç”¨æˆ·å¯èƒ½ä½¿ç”¨ç½‘ç»œç”¨è¯­å’Œè¡¨æƒ…ç¬¦å·</note>\n\
            \    <note>éœ€è¦è€ƒè™‘åœ°åŸŸæ–‡åŒ–å·®å¼‚</note>\n    <note>æ—¶æ•ˆæ€§ï¼šæœ€è¿‘30å¤©å†…çš„åé¦ˆ</note>\n  </additional_context>"
          hint: ''
          label: ä¸Šä¸‹æ–‡
          max_length: 99999
          options: []
          placeholder: ''
          required: false
          type: paragraph
          variable: context
        - default: ''
          hint: ''
          label: query
          max_length: 99999
          options: []
          placeholder: ''
          required: true
          type: paragraph
          variable: query
      height: 265
      id: '1770615351502'
      position:
        x: 81
        y: 282
      positionAbsolute:
        x: 81
        y: 282
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: deepseek-chat
          provider: langgenius/deepseek/deepseek
        prompt_template:
        - id: dadd6843-33d4-4fa9-94fd-ad4d51a2abaf
          role: system
          text: "{{#1770615351502.system_prompt#}}\n{{#1770615351502.classes#}}\n\
            {{#1770615351502.confidence_criterion#}}\n{{#1770615351502.guidelines#}}\n\
            <output_format>\nÂ  <structure type=\"JSON\">\nÂ  Â  <required_fields>\n\
            Â  Â  Â  <field name=\"category\" type=\"string\">\nÂ  Â  Â  Â  <description>ä¸»è¦åˆ†ç±»ç»“æœ</description>\n\
            Â  Â  Â  Â  <required>true</required>\nÂ  Â  Â  </field>\nÂ  Â  Â  <field name=\"\
            confidence\" type=\"float\">\nÂ  Â  Â  Â  <description>ç½®ä¿¡åº¦å¾—åˆ†(0.0-1.0)</description>\n\
            Â  Â  Â  Â  <required>true</required>\nÂ  Â  Â  </field>\nÂ  Â  Â  <field name=\"\
            reason\" type=\"string\">\nÂ  Â  Â  Â  <description>åˆ†ç±»ç†ç”±ç®€è¿°</description>\n\
            Â  Â  Â  Â  <required>true</required>\nÂ  Â  Â  </field>\nÂ  Â  </required_fields>\n\
            Â  Â  \nÂ  Â  <format_example>\nÂ  Â  Â  <![CDATA[\n{\n\"category\": \"positive\"\
            ,\n\"confidence\": 0.92,\n\"reason\": \"è¾“å…¥åŒ…å«å¤šä¸ªæ­£é¢å…³é”®è¯ï¼Œè¡¨è¾¾æ˜ç¡®æ»¡æ„\",\n}\nÂ  Â \
            \ Â  ]]>\nÂ  Â  </format_example>\nÂ  </structure>\n</output_format>\n<transparency_requirement>\n\
            Â  <note>åˆ†ç±»ç†ç”±éœ€æ˜ç¡®å¯è§£é‡Š</note>\nÂ  <note>ç½®ä¿¡åº¦è®¡ç®—éœ€åŸºäºå®¢è§‚æ ‡å‡†</note>\nÂ  <note>ç”¨æˆ·å¯ç†è§£åˆ†ç±»ç»“æœ</note>\n\
            </transparency_requirement>\n{{#1770615351502.examples#}}\n<context>\n\
            {{#1770615351502.context#}}\n</context>"
        - id: 4695f98a-822e-40bc-a30a-32e0bd02c888
          role: user
          text: '{{#1770615351502.query#}}'
        selected: false
        structured_output:
          schema:
            additionalProperties: false
            properties:
              category:
                description: ä¸»è¦åˆ†ç±»ç»“æœ
                type: string
              confidence:
                description: ç½®ä¿¡åº¦
                type: number
              reason:
                description: åˆ†ç±»ç†ç”±ç®€è¿°
                type: string
            required:
            - category
            - confidence
            - reason
            type: object
        structured_output_enabled: true
        title: LLM
        type: llm
        vision:
          enabled: false
      height: 88
      id: '1770615609938'
      position:
        x: 391
        y: 303
      positionAbsolute:
        x: 391
        y: 303
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        outputs:
        - value_selector:
          - '1770615609938'
          - structured_output
          - category
          value_type: object
          variable: category
        - value_selector:
          - '1770615609938'
          - structured_output
          - confidence
          value_type: object
          variable: confidence
        - value_selector:
          - '1770615609938'
          - structured_output
          - reason
          value_type: object
          variable: reason
        selected: false
        title: è¾“å‡º
        type: end
      height: 140
      id: '1770617809523'
      position:
        x: 741
        y: 314
      positionAbsolute:
        x: 741
        y: 314
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    viewport:
      x: 543
      y: 251.5
      zoom: 1
  rag_pipeline_variables: []
